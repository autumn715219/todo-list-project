{"ast":null,"code":"import _objectSpread from\"/Users/Autumn_1/wehelp/@\\u7B2C\\u4E09\\u968E\\u6BB5/todo-list-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/Autumn_1/wehelp/@\\u7B2C\\u4E09\\u968E\\u6BB5/todo-list-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{signInWithEmailAndPassword,createUserWithEmailAndPassword}from'firebase/auth';import{auth}from'../utils/firebase.js';import{useNavigate}from'react-router-dom';import'./welcome.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Welcome(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isRegistering=_useState6[0],setisRegistering=_useState6[1];var _useState7=useState({email:'',confirmEmail:'',password:'',confirmPassword:''}),_useState8=_slicedToArray(_useState7,2),registerInformation=_useState8[0],setRegisterInformation=_useState8[1];var navigate=useNavigate();useEffect(function(){auth.onAuthStateChanged(function(user){if(user){navigate('/list');}});},[]);var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var handlePasswordChange=function handlePasswordChange(e){setPassword(e.target.value);};var handleSignIn=function handleSignIn(){signInWithEmailAndPassword(auth,email,password).then(function(){navigate('/list');}).catch(function(err){alert(err.message);});};var handleRegister=function handleRegister(){if(registerInformation.email!==registerInformation.confirmEmail){alert('確認信箱輸入有誤');return;}else if(registerInformation.password!==registerInformation.confirmPassword){alert('確認密碼輸入錯誤');return;}createUserWithEmailAndPassword(auth,registerInformation.email,registerInformation.password).then(function(){navigate('/list');}).catch(function(err){alert(err.message);});};return/*#__PURE__*/_jsx(\"div\",{className:\"WRAPPER\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome Todo-List \"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-register-container\",children:isRegistering?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u4FE1\\u7BB1\",value:registerInformation.email,onChange:function onChange(e){return setRegisterInformation(_objectSpread(_objectSpread({},registerInformation),{},{email:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\u518D\\u6B21\\u78BA\\u8A8D\\u4FE1\\u7BB1\",value:registerInformation.confirmEmail,onChange:function onChange(e){return setRegisterInformation(_objectSpread(_objectSpread({},registerInformation),{},{confirmEmail:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",value:registerInformation.password,onChange:function onChange(e){return setRegisterInformation(_objectSpread(_objectSpread({},registerInformation),{},{password:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u518D\\u6B21\\u78BA\\u8A8D\\u5BC6\\u78BC\",value:registerInformation.confirmPassword,onChange:function onChange(e){return setRegisterInformation(_objectSpread(_objectSpread({},registerInformation),{},{confirmPassword:e.target.value}));}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,children:\"\\u8A3B\\u518A\"}),/*#__PURE__*/_jsx(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return setisRegistering(false);},children:\"\\u56DE\\u4E0A\\u4E00\\u9801\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u4FE1\\u7BB1\",onChange:handleEmailChange,value:email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",onChange:handlePasswordChange,value:password}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignIn,children:\"\\u767B\\u5165\"}),/*#__PURE__*/_jsx(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return setisRegistering(true);},children:\"\\u8A3B\\u518A\\u65B0\\u5E33\\u6236\"})]})})]})});}","map":{"version":3,"names":["React","useState","useEffect","signInWithEmailAndPassword","createUserWithEmailAndPassword","auth","useNavigate","Welcome","email","setEmail","password","setPassword","isRegistering","setisRegistering","confirmEmail","confirmPassword","registerInformation","setRegisterInformation","navigate","onAuthStateChanged","user","handleEmailChange","e","target","value","handlePasswordChange","handleSignIn","then","catch","err","alert","message","handleRegister"],"sources":["/Users/Autumn_1/wehelp/@第三階段/todo-list-project/src/components/Welcome.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '../utils/firebase.js';\nimport { useNavigate } from 'react-router-dom';\nimport './welcome.scss';\n\nexport default function Welcome() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isRegistering, setisRegistering] = useState(false);\n  const [registerInformation, setRegisterInformation] = useState({\n    email: '',\n    confirmEmail: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        navigate('/list');\n      }\n    });\n  }, []);\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n  const handleSignIn = () => {\n    signInWithEmailAndPassword(auth, email, password)\n      .then(() => {\n        navigate('/list');\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n  const handleRegister = () => {\n    if (registerInformation.email !== registerInformation.confirmEmail) {\n      alert('確認信箱輸入有誤');\n      return;\n    } else if (registerInformation.password !== registerInformation.confirmPassword) {\n      alert('確認密碼輸入錯誤');\n      return;\n    }\n    createUserWithEmailAndPassword(auth, registerInformation.email, registerInformation.password)\n      .then(() => {\n        navigate('/list');\n      })\n      .catch((err) => {\n        alert(err.message);\n      });\n  };\n  return (\n    <div className='WRAPPER'>\n      <div className='welcome'>\n        <h1>Welcome Todo-List </h1>\n        <div className='login-register-container'>\n          {isRegistering ? (\n            <>\n              <input\n                type='email'\n                placeholder='請輸入信箱'\n                value={registerInformation.email}\n                onChange={(e) =>\n                  setRegisterInformation({\n                    ...registerInformation,\n                    email: e.target.value,\n                  })\n                }\n              />\n              <input\n                type='email'\n                placeholder='再次確認信箱'\n                value={registerInformation.confirmEmail}\n                onChange={(e) =>\n                  setRegisterInformation({\n                    ...registerInformation,\n                    confirmEmail: e.target.value,\n                  })\n                }\n              />\n              <input\n                type='password'\n                placeholder='請輸入密碼'\n                value={registerInformation.password}\n                onChange={(e) =>\n                  setRegisterInformation({\n                    ...registerInformation,\n                    password: e.target.value,\n                  })\n                }\n              />\n              <input\n                type='password'\n                placeholder='再次確認密碼'\n                value={registerInformation.confirmPassword}\n                onChange={(e) =>\n                  setRegisterInformation({\n                    ...registerInformation,\n                    confirmPassword: e.target.value,\n                  })\n                }\n              />\n              <button onClick={handleRegister}>註冊</button>\n              <a href='javascript:void(0)' onClick={() => setisRegistering(false)}>\n                回上一頁\n              </a>\n            </>\n          ) : (\n            <>\n              <input\n                type='email'\n                placeholder='請輸入信箱'\n                onChange={handleEmailChange}\n                value={email}\n              />\n              <input\n                type='password'\n                placeholder='請輸入密碼'\n                onChange={handlePasswordChange}\n                value={password}\n              />\n              <button onClick={handleSignIn}>登入</button>\n              <a href='javascript:void(0)' onClick={() => setisRegistering(true)}>\n                註冊新帳戶\n              </a>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}